////////////////////////////////////////////////////////////////
// @file impl.c
// @brief Implementation of the graph structure.
////////////////////////////////////////////////////////////////

#include "graph.h"

////////////////////////////////////////////////////////////////
// Adds the edge [i, j] to the graph G.
////////////////////////////////////////////////////////////////
void add_edge(graph *G, int i, int j) {
  G->adjacency[i] |= ((uint64_t)1 << j);
  G->adjacency[j] |= ((uint64_t)1 << i);
}

////////////////////////////////////////////////////////////////
// Removes the edge [i, j] from the graph G.
////////////////////////////////////////////////////////////////
void remove_edge(graph *G, int i, int j) {
  G->adjacency[i] &= ~((uint64_t)1 << j);
  G->adjacency[j] &= ~((uint64_t)1 << i);
}

////////////////////////////////////////////////////////////////
// Checks if [i, j] is an edge in the graph G.
////////////////////////////////////////////////////////////////
int is_edge(const graph *G, int i, int j) {
  return (G->adjacency[i] & ((uint64_t)1 << j)) ? 1 : 0;
}
